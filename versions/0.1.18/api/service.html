<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Ax · Adaptive Experimentation Platform</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Adaptive Experimentation Platform"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Ax · Adaptive Experimentation Platform"/><meta property="og:type" content="website"/><meta property="og:url" content="https://ax.dev//versions/0.1.18/index.html"/><meta property="og:description" content="Adaptive Experimentation Platform"/><meta property="og:image" content="https://ax.dev//versions/0.1.18/img/ax.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://ax.dev//versions/0.1.18/img/ax.svg"/><link rel="shortcut icon" href="/versions/0.1.18/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-139570076-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script><script type="text/javascript" src="/versions/0.1.18/js/plotUtils.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/versions/0.1.18/js/mathjax.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/versions/0.1.18/js/scrollSpy.js"></script><link rel="stylesheet" href="/versions/0.1.18/css/main.css"/><script src="/versions/0.1.18/js/codetabs.js"></script></head><body><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/versions/0.1.18/"><img class="logo" src="/versions/0.1.18/img/ax_lockup_white.svg" alt="Ax"/><h2 class="headerTitleWithLogo">Ax</h2></a><a href="/versions/0.1.18/versions.html"><h3>0.1.18</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/versions/0.1.18/docs/why-ax.html" target="_self">Docs</a></li><li class=""><a href="/versions/0.1.18/tutorials/" target="_self">Tutorials</a></li><li class=""><a href="/versions/0.1.18/api/" target="_self">API</a></li><li class=""><a href="https://github.com/facebook/Ax" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div>
<script type="text/javascript" id="documentation_options" data-url_root="./"
src="/js/documentation_options.js">
</script>
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/js/underscore.js"></script>
<script type="text/javascript" src="/js/doctools.js"></script>
<script type="text/javascript" src="/js/language_data.js"></script>
<script type="text/javascript" src="/js/searchtools.js"></script>
<div class="sphinx"><div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="section" id="module-ax.service">
<span id="ax-service"></span><h1>ax.service<a class="headerlink" href="#module-ax.service" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-ax.service.ax_client">
<span id="ax-client"></span><h2>Ax Client<a class="headerlink" href="#module-ax.service.ax_client" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ax.service.ax_client.AxClient">
<em class="property">class </em><code class="sig-prename descclassname">ax.service.ax_client.</code><code class="sig-name descname">AxClient</code><span class="sig-paren">(</span><em class="sig-param">generation_strategy: Optional[ax.modelbridge.generation_strategy.GenerationStrategy] = None</em>, <em class="sig-param">db_settings: Optional[ax.storage.sqa_store.structs.DBSettings] = None</em>, <em class="sig-param">enforce_sequential_optimization: bool = True</em>, <em class="sig-param">random_seed: Optional[int] = None</em>, <em class="sig-param">verbose_logging: bool = True</em>, <em class="sig-param">suppress_storage_errors: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ax.service.utils.with_db_settings_base.WithDBSettingsBase" title="ax.service.utils.with_db_settings_base.WithDBSettingsBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ax.service.utils.with_db_settings_base.WithDBSettingsBase</span></code></a></p>
<p>Convenience handler for management of experimentation cycle through a
service-like API. External system manages scheduling of the cycle and makes
calls to this client to get next suggestion in the experiment and log back
data from the evaluation of that suggestion.</p>
<p>Note: <cite>AxClient</cite> expects to only propose 1 arm (suggestion) per trial; support
for use cases that require use of batches is coming soon.</p>
<p>Two custom types used in this class for convenience are <cite>TParamValue</cite> and
<cite>TParameterization</cite>. Those are shortcuts for <cite>Union[str, bool, float, int]</cite>
and <cite>Dict[str, Union[str, bool, float, int]]</cite>, respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generation_strategy</strong> – Optional generation strategy. If not set, one is
intelligently chosen based on properties of search space.</p></li>
<li><p><strong>db_settings</strong> – Settings for saving and reloading the underlying experiment
to a database. Expected to be of type
ax.storage.sqa_store.structs.DBSettings and require SQLAlchemy.</p></li>
<li><p><strong>enforce_sequential_optimization</strong> – Whether to enforce that when it is
reasonable to switch models during the optimization (as prescribed
by <cite>num_trials</cite> in generation strategy), Ax will wait for enough trials
to be completed with data to proceed. Defaults to True. If set to
False, Ax will keep generating new trials from the previous model
until enough data is gathered. Use this only if necessary;
otherwise, it is more resource-efficient to
optimize sequentially, by waiting until enough data is available to
use the next model.</p></li>
<li><p><strong>random_seed</strong> – <p>Optional integer random seed, set to fix the optimization
random seed for reproducibility. Works only for Sobol quasi-random
generator and for BoTorch-powered models. For the latter models, the
trials generated from the same optimization setup with the same seed,
will be mostly similar, but the exact parameter values may still vary
and trials latter in the optimizations will diverge more and more.
This is because a degree of randomness is essential for high performance
of the Bayesian optimization models and is not controlled by the seed.</p>
<p>Note: In multi-threaded environments, the random seed is thread-safe,
but does not actually guarantee reproducibility. Whether the outcomes
will be exactly the same for two same operations that use the random
seed, depends on whether the threads modify the random state in the
same order across the two operations.</p>
</p></li>
<li><p><strong>verbose_logging</strong> – Whether Ax should log significant optimization events,
defaults to <cite>True</cite>.</p></li>
<li><p><strong>suppress_storage_errors</strong> – Whether to suppress SQL storage-related errors if
encounted. Only use if SQL storage is not important for the given use
case, since this will only log, but not raise, an exception if its
encountered while saving to DB or loading from it.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.abandon_trial">
<code class="sig-name descname">abandon_trial</code><span class="sig-paren">(</span><em class="sig-param">trial_index: int</em>, <em class="sig-param">reason: Optional[str] = None</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.abandon_trial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.abandon_trial" title="Permalink to this definition">¶</a></dt>
<dd><p>Abandons a trial and adds optional metadata to it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>trial_index</strong> – Index of trial within the experiment.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.attach_trial">
<code class="sig-name descname">attach_trial</code><span class="sig-paren">(</span><em class="sig-param">parameters: Dict[str, Union[str, bool, float, int, None]], ttl_seconds: Optional[int] = None</em><span class="sig-paren">)</span> → Tuple[Dict[str, Union[str, bool, float, int, None]], int]<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.attach_trial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.attach_trial" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach a new trial with the given parameterization to the experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameters</strong> – Parameterization of the new trial.</p></li>
<li><p><strong>ttl_seconds</strong> – If specified, will consider the trial failed after this
many seconds. Used to detect dead trials that were not marked
failed properly.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple of parameterization and trial index from newly created trial.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.complete_trial">
<code class="sig-name descname">complete_trial</code><span class="sig-paren">(</span><em class="sig-param">trial_index: int, raw_data: Union[Dict[str, Tuple[float, Optional[float]]], Tuple[float, Optional[float]], float, List[Tuple[Dict[str, Union[str, bool, float, int, None]], Dict[str, Tuple[float, Optional[float]]]]]], metadata: Optional[Dict[str, Union[str, int]]] = None, sample_size: Optional[int] = None</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.complete_trial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.complete_trial" title="Permalink to this definition">¶</a></dt>
<dd><p>Completes the trial with given metric values and adds optional metadata
to it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trial_index</strong> – Index of trial within the experiment.</p></li>
<li><p><strong>raw_data</strong> – Evaluation data for the trial. Can be a mapping from
metric name to a tuple of mean and SEM, just a tuple of mean and
SEM if only one metric in optimization, or just the mean if there
is no SEM.  Can also be a list of (fidelities, mapping from
metric name to a tuple of mean and SEM).</p></li>
<li><p><strong>metadata</strong> – Additional metadata to track about this run.</p></li>
<li><p><strong>sample_size</strong> – Number of samples collected for the underlying arm,
optional.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.create_experiment">
<code class="sig-name descname">create_experiment</code><span class="sig-paren">(</span><em class="sig-param">parameters: List[Dict[str, Union[str, bool, float, int, None, List[Union[str, bool, float, int, None]]]]], name: Optional[str] = None, objective_name: Optional[str] = None, minimize: bool = False, parameter_constraints: Optional[List[str]] = None, outcome_constraints: Optional[List[str]] = None, status_quo: Optional[Dict[str, Union[str, bool, float, int, None]]] = None, overwrite_existing_experiment: bool = False, experiment_type: Optional[str] = None, choose_generation_strategy_kwargs: Optional[Dict[str, Any]] = None</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.create_experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.create_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new experiment and save it if DBSettings available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameters</strong> – List of dictionaries representing parameters in the
experiment search space.
Required elements in the dictionaries are:
1. “name” (name of parameter, string),
2. “type” (type of parameter: “range”, “fixed”, or “choice”, string),
and one of the following:
3a. “bounds” for range parameters (list of two values, lower bound
first),
3b. “values” for choice parameters (list of values), or
3c. “value” for fixed parameters (single value).
Optional elements are:
1. “log_scale” (for float-valued range parameters, bool),
2. “value_type” (to specify type that values of this parameter should
take; expects “float”, “int”, “bool” or “str”),
3. “is_fidelity” (bool) and “target_value” (float) for fidelity
parameters,
4. “is_ordered” (bool) for choice parameters, and
5. “is_task” (bool) for task parameters.</p></li>
<li><p><strong>objective</strong> – Name of the metric used as objective in this experiment.
This metric must be present in <cite>raw_data</cite> argument to <cite>complete_trial</cite>.</p></li>
<li><p><strong>name</strong> – Name of the experiment to be created.</p></li>
<li><p><strong>minimize</strong> – Whether this experiment represents a minimization problem.</p></li>
<li><p><strong>parameter_constraints</strong> – List of string representation of parameter
constraints, such as “x3 &gt;= x4” or “-x3 + 2*x4 - 3.5*x5 &gt;= 2”. For
the latter constraints, any number of arguments is accepted, and
acceptable operators are “&lt;=” and “&gt;=”.</p></li>
<li><p><strong>outcome_constraints</strong> – List of string representation of outcome
constraints of form “metric_name &gt;= bound”, like “m1 &lt;= 3.”</p></li>
<li><p><strong>status_quo</strong> – Parameterization of the current state of the system.
If set, this will be added to each trial to be evaluated alongside
test configurations.</p></li>
<li><p><strong>overwrite_existing_experiment</strong> – If an experiment has already been set
on this <cite>AxClient</cite> instance, whether to reset it to the new one.
If overwriting the experiment, generation strategy will be
re-selected for the new experiment and restarted.
To protect experiments in production, one cannot overwrite existing
experiments if the experiment is already stored in the database,
regardless of the value of <cite>overwrite_existing_experiment</cite>.</p></li>
<li><p><strong>choose_generation_strategy_kwargs</strong> – Keyword arguments to pass to
<cite>choose_generation_strategy</cite> function which determines what
generation strategy should be used when none was specified on init.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.experiment">
<em class="property">property </em><code class="sig-name descname">experiment</code><a class="headerlink" href="#ax.service.ax_client.AxClient.experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the experiment set on this Ax client.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.from_json_snapshot">
<em class="property">static </em><code class="sig-name descname">from_json_snapshot</code><span class="sig-paren">(</span><em class="sig-param">serialized: Dict[str, Any], **kwargs</em><span class="sig-paren">)</span> → ax.service.ax_client.AxClient<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.from_json_snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.from_json_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Recreate an <cite>AxClient</cite> from a JSON snapshot.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.generation_strategy">
<em class="property">property </em><code class="sig-name descname">generation_strategy</code><a class="headerlink" href="#ax.service.ax_client.AxClient.generation_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the generation strategy, set on this experiment.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_best_parameters">
<code class="sig-name descname">get_best_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → Optional[Tuple[Dict[str, Union[str, bool, float, int, None]], Optional[Tuple[Dict[str, float], Optional[Dict[str, Dict[str, float]]]]]]]<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_best_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_best_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an experiment, identifies the best arm.</p>
<p>First attempts according to do so with models used in optimization and
its corresponding predictions if available. Falls back to the best raw
objective based on the data fetched from the experiment.</p>
<dl class="simple">
<dt>TModelPredictArm is of the form:</dt><dd><p>({metric_name: mean}, {metric_name_1: {metric_name_2: cov_1_2}})</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>experiment</strong> – Experiment, on which to identify best raw objective arm.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple of parameterization and model predictions for it.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_contour_plot">
<code class="sig-name descname">get_contour_plot</code><span class="sig-paren">(</span><em class="sig-param">param_x: Optional[str] = None</em>, <em class="sig-param">param_y: Optional[str] = None</em>, <em class="sig-param">metric_name: Optional[str] = None</em><span class="sig-paren">)</span> → ax.plot.base.AxPlotConfig<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_contour_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_contour_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a plot configuration for a contour plot of the response
surface. For response surfaces with more than two parameters,
selected two parameters will appear on the axes, and remaining parameters
will be affixed to the middle of their range. If contour params arguments
are not provided, the first two parameters in the search space will be
used. If contour metrics are not provided, objective will be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_x</strong> – name of parameters to use on x-axis for
the contour response surface plots.</p></li>
<li><p><strong>param_y</strong> – name of parameters to use on y-axis for
the contour response surface plots.</p></li>
<li><p><strong>metric_name</strong> – Name of the metric, for which to plot the response
surface.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_feature_importances">
<code class="sig-name descname">get_feature_importances</code><span class="sig-paren">(</span><em class="sig-param">relative: bool = True</em><span class="sig-paren">)</span> → ax.plot.base.AxPlotConfig<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_feature_importances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_feature_importances" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a bar chart showing feature_importances for a metric.</p>
<p>A drop-down controls the metric for which the importances are displayed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>relative</strong> – Whether the values are displayed as percentiles or
as raw importance metrics.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_max_parallelism">
<code class="sig-name descname">get_max_parallelism</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → List[Tuple[int, int]]<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_max_parallelism"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_max_parallelism" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves maximum number of trials that can be scheduled in parallel
at different stages of optimization.</p>
<p>Some optimization algorithms profit significantly from sequential
optimization (i.e. suggest a few points, get updated with data for them,
repeat, see <a class="reference external" href="https://ax.dev/docs/bayesopt.html">https://ax.dev/docs/bayesopt.html</a>).
Parallelism setting indicates how many trials should be running simulteneously
(generated, but not yet completed with data).</p>
<p>The output of this method is mapping of form
{num_trials -&gt; max_parallelism_setting}, where the max_parallelism_setting
is used for num_trials trials. If max_parallelism_setting is -1, as
many of the trials can be ran in parallel, as necessary. If num_trials
in a tuple is -1, then the corresponding max_parallelism_setting
should be used for all subsequent trials.</p>
<p>For example, if the returned list is [(5, -1), (12, 6), (-1, 3)],
the schedule could be: run 5 trials with any parallelism, run 6 trials in
parallel twice, run 3 trials in parallel for as long as needed. Here,
‘running’ a trial means obtaining a next trial from <cite>AxClient</cite> through
get_next_trials and completing it with data when available.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Mapping of form {num_trials -&gt; max_parallelism_setting}.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_model_predictions">
<code class="sig-name descname">get_model_predictions</code><span class="sig-paren">(</span><em class="sig-param">metric_names: Optional[List[str]] = None</em><span class="sig-paren">)</span> → Dict[int, Dict[str, Tuple[float, float]]]<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_model_predictions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_model_predictions" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve model-estimated means and covariances for all metrics.
Note: this function retrieves the predictions for the ‘in-sample’ arms,
which means that the return mapping on this function will only contain
predictions for trials that have been completed with data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metric_names</strong> – Names of the metrics, for which to retrieve predictions.
All metrics on experiment will be retrieved if this argument was
not specified.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A mapping from trial index to a mapping of metric names to tuples
of predicted metric mean and SEM, of form:
{ trial_index -&gt; { metric_name: ( mean, SEM ) } }.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_next_trial">
<code class="sig-name descname">get_next_trial</code><span class="sig-paren">(</span><em class="sig-param">ttl_seconds: Optional[int] = None</em><span class="sig-paren">)</span> → Tuple[Dict[str, Union[str, bool, float, int, None]], int]<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_next_trial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_next_trial" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate trial with the next set of parameters to try in the iteration process.</p>
<p>Note: Service API currently supports only 1-arm trials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ttl_seconds</strong> – If specified, will consider the trial failed after this
many seconds. Used to detect dead trials that were not marked
failed properly.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple of trial parameterization, trial index</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_optimization_trace">
<code class="sig-name descname">get_optimization_trace</code><span class="sig-paren">(</span><em class="sig-param">objective_optimum: Optional[float] = None</em><span class="sig-paren">)</span> → ax.plot.base.AxPlotConfig<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_optimization_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_optimization_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the plot configuration for optimization trace, which shows
the evolution of the objective mean over iterations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>objective_optimum</strong> – Optimal objective, if known, for display in the
visualization.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_recommended_max_parallelism">
<em class="property">static </em><code class="sig-name descname">get_recommended_max_parallelism</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_recommended_max_parallelism"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_recommended_max_parallelism" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_trial_parameters">
<code class="sig-name descname">get_trial_parameters</code><span class="sig-paren">(</span><em class="sig-param">trial_index: int</em><span class="sig-paren">)</span> → Dict[str, Union[str, bool, float, int, None]]<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_trial_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_trial_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the parameterization of the trial by the given index.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.get_trials_data_frame">
<code class="sig-name descname">get_trials_data_frame</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pandas.DataFrame<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.get_trials_data_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.get_trials_data_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.load">
<em class="property">static </em><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">filepath: Optional[str] = None</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.load_experiment">
<em class="property">static </em><code class="sig-name descname">load_experiment</code><span class="sig-paren">(</span><em class="sig-param">experiment_name: str</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.load_experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.load_experiment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.load_experiment_from_database">
<code class="sig-name descname">load_experiment_from_database</code><span class="sig-paren">(</span><em class="sig-param">experiment_name: str</em>, <em class="sig-param">choose_generation_strategy_kwargs: Optional[Dict[str</em>, <em class="sig-param">Any]] = None</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.load_experiment_from_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.load_experiment_from_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an existing experiment from database using the <cite>DBSettings</cite>
passed to this <cite>AxClient</cite> on instantiation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>experiment_name</strong> – Name of the experiment.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Experiment object.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.load_from_json_file">
<em class="property">static </em><code class="sig-name descname">load_from_json_file</code><span class="sig-paren">(</span><em class="sig-param">filepath: str = 'ax_client_snapshot.json'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> → ax.service.ax_client.AxClient<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.load_from_json_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.load_from_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore an <cite>AxClient</cite> and its state from a JSON-serialized snapshot,
residing in a .json file by the given path.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.log_trial_failure">
<code class="sig-name descname">log_trial_failure</code><span class="sig-paren">(</span><em class="sig-param">trial_index: int</em>, <em class="sig-param">metadata: Optional[Dict[str</em>, <em class="sig-param">str]] = None</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.log_trial_failure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.log_trial_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark that the given trial has failed while running.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trial_index</strong> – Index of trial within the experiment.</p></li>
<li><p><strong>metadata</strong> – Additional metadata to track about this run.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.objective_name">
<em class="property">property </em><code class="sig-name descname">objective_name</code><a class="headerlink" href="#ax.service.ax_client.AxClient.objective_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the objective in this optimization.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.save">
<em class="property">static </em><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">filepath: Optional[str] = None</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.save_to_json_file">
<code class="sig-name descname">save_to_json_file</code><span class="sig-paren">(</span><em class="sig-param">filepath: str = 'ax_client_snapshot.json'</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.save_to_json_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.save_to_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a JSON-serialized snapshot of this <cite>AxClient</cite>’s settings and state
to a .json file by the given path.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.to_json_snapshot">
<code class="sig-name descname">to_json_snapshot</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → Dict[str, Any]<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.to_json_snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.to_json_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize this <cite>AxClient</cite> to JSON to be able to interrupt and restart
optimization and save it to file by the provided path.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A JSON-safe dict representation of this <cite>AxClient</cite>.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.update_trial_data">
<code class="sig-name descname">update_trial_data</code><span class="sig-paren">(</span><em class="sig-param">trial_index: int, raw_data: Union[Dict[str, Tuple[float, Optional[float]]], Tuple[float, Optional[float]], float, List[Tuple[Dict[str, Union[str, bool, float, int, None]], Dict[str, Tuple[float, Optional[float]]]]]], metadata: Optional[Dict[str, Union[str, int]]] = None, sample_size: Optional[int] = None</em><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.update_trial_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.update_trial_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Attaches additional data for completed trial (for example, if trial was
completed with data for only one of the required metrics and more data
needs to be attached).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trial_index</strong> – Index of trial within the experiment.</p></li>
<li><p><strong>raw_data</strong> – Evaluation data for the trial. Can be a mapping from
metric name to a tuple of mean and SEM, just a tuple of mean and
SEM if only one metric in optimization, or just the mean if there
is no SEM.  Can also be a list of (fidelities, mapping from
metric name to a tuple of mean and SEM).</p></li>
<li><p><strong>metadata</strong> – Additional metadata to track about this run.</p></li>
<li><p><strong>sample_size</strong> – Number of samples collected for the underlying arm,
optional.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="ax.service.ax_client.AxClient.verify_trial_parameterization">
<code class="sig-name descname">verify_trial_parameterization</code><span class="sig-paren">(</span><em class="sig-param">trial_index: int, parameterization: Dict[str, Union[str, bool, float, int, None]]</em><span class="sig-paren">)</span> → bool<a class="reference internal" href="_modules/ax/service/ax_client.html#AxClient.verify_trial_parameterization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.ax_client.AxClient.verify_trial_parameterization" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the given parameterization matches that of the arm in the trial
specified in the trial index.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-ax.service.managed_loop">
<span id="managed-loop"></span><h2>Managed Loop<a class="headerlink" href="#module-ax.service.managed_loop" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ax.service.managed_loop.OptimizationLoop">
<em class="property">class </em><code class="sig-prename descclassname">ax.service.managed_loop.</code><code class="sig-name descname">OptimizationLoop</code><span class="sig-paren">(</span><em class="sig-param">experiment: ax.core.experiment.Experiment</em>, <em class="sig-param">total_trials: int = 20</em>, <em class="sig-param">arms_per_trial: int = 1</em>, <em class="sig-param">random_seed: Optional[int] = None</em>, <em class="sig-param">wait_time: int = 0</em>, <em class="sig-param">run_async: bool = False</em>, <em class="sig-param">generation_strategy: Optional[ax.modelbridge.generation_strategy.GenerationStrategy] = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ax/service/managed_loop.html#OptimizationLoop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.managed_loop.OptimizationLoop" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Managed optimization loop, in which Ax oversees deployment of trials and
gathering data.</p>
<dl class="method">
<dt id="ax.service.managed_loop.OptimizationLoop.full_run">
<code class="sig-name descname">full_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → ax.service.managed_loop.OptimizationLoop<a class="reference internal" href="_modules/ax/service/managed_loop.html#OptimizationLoop.full_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.managed_loop.OptimizationLoop.full_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs full optimization loop as defined in the provided optimization
plan.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.managed_loop.OptimizationLoop.get_best_point">
<code class="sig-name descname">get_best_point</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → Tuple[Dict[str, Union[str, bool, float, int, None]], Optional[Tuple[Dict[str, float], Optional[Dict[str, Dict[str, float]]]]]]<a class="reference internal" href="_modules/ax/service/managed_loop.html#OptimizationLoop.get_best_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.managed_loop.OptimizationLoop.get_best_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the best point encountered in the course
of this optimization.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.managed_loop.OptimizationLoop.get_current_model">
<code class="sig-name descname">get_current_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → Optional[ax.modelbridge.base.ModelBridge]<a class="reference internal" href="_modules/ax/service/managed_loop.html#OptimizationLoop.get_current_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.managed_loop.OptimizationLoop.get_current_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the most recently used model in optimization.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.managed_loop.OptimizationLoop.run_trial">
<code class="sig-name descname">run_trial</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → None<a class="reference internal" href="_modules/ax/service/managed_loop.html#OptimizationLoop.run_trial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.managed_loop.OptimizationLoop.run_trial" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a single step of the optimization plan.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.managed_loop.OptimizationLoop.with_evaluation_function">
<em class="property">static </em><code class="sig-name descname">with_evaluation_function</code><span class="sig-paren">(</span><em class="sig-param">parameters: List[Dict[str, Union[str, bool, float, int, None, List[Union[str, bool, float, int, None]]]]], evaluation_function: Callable[[Dict[str, Union[str, bool, float, int, None]], Optional[float]], Union[Dict[str, Tuple[float, Optional[float]]], Tuple[float, Optional[float]], float, List[Tuple[Dict[str, Union[str, bool, float, int, None]], Dict[str, Tuple[float, Optional[float]]]]]]], experiment_name: Optional[str] = None, objective_name: Optional[str] = None, minimize: bool = False, parameter_constraints: Optional[List[str]] = None, outcome_constraints: Optional[List[str]] = None, total_trials: int = 20, arms_per_trial: int = 1, wait_time: int = 0, random_seed: Optional[int] = None, generation_strategy: Optional[ax.modelbridge.generation_strategy.GenerationStrategy] = None</em><span class="sig-paren">)</span> → OptimizationLoop<a class="reference internal" href="_modules/ax/service/managed_loop.html#OptimizationLoop.with_evaluation_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.managed_loop.OptimizationLoop.with_evaluation_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a synchronous <cite>OptimizationLoop</cite> using an evaluation
function.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.managed_loop.OptimizationLoop.with_runners_and_metrics">
<em class="property">classmethod </em><code class="sig-name descname">with_runners_and_metrics</code><span class="sig-paren">(</span><em class="sig-param">parameters: List[Dict[str, Union[str, bool, float, int, None, List[Union[str, bool, float, int, None]]]]], path_to_runner: str, paths_to_metrics: List[str], experiment_name: Optional[str] = None, objective_name: Optional[str] = None, minimize: bool = False, parameter_constraints: Optional[List[str]] = None, outcome_constraints: Optional[List[str]] = None, total_trials: int = 20, arms_per_trial: int = 1, wait_time: int = 0, random_seed: Optional[int] = None</em><span class="sig-paren">)</span> → OptimizationLoop<a class="reference internal" href="_modules/ax/service/managed_loop.html#OptimizationLoop.with_runners_and_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.managed_loop.OptimizationLoop.with_runners_and_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs an asynchronous <cite>OptimizationLoop</cite> using Ax runners and
metrics.</p>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="ax.service.managed_loop.optimize">
<code class="sig-prename descclassname">ax.service.managed_loop.</code><code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param">parameters: List[Dict[str, Union[str, bool, float, int, None, List[Union[str, bool, float, int, None]]]]], evaluation_function: Callable[[Dict[str, Union[str, bool, float, int, None]], Optional[float]], Union[Dict[str, Tuple[float, Optional[float]]], Tuple[float, Optional[float]], float, List[Tuple[Dict[str, Union[str, bool, float, int, None]], Dict[str, Tuple[float, Optional[float]]]]]]], experiment_name: Optional[str] = None, objective_name: Optional[str] = None, minimize: bool = False, parameter_constraints: Optional[List[str]] = None, outcome_constraints: Optional[List[str]] = None, total_trials: int = 20, arms_per_trial: int = 1, random_seed: Optional[int] = None, generation_strategy: Optional[ax.modelbridge.generation_strategy.GenerationStrategy] = None</em><span class="sig-paren">)</span> → Tuple[Dict[str, Union[str, bool, float, int, None]], Optional[Tuple[Dict[str, float], Optional[Dict[str, Dict[str, float]]]]], ax.core.experiment.Experiment, Optional[ax.modelbridge.base.ModelBridge]]<a class="reference internal" href="_modules/ax/service/managed_loop.html#optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.managed_loop.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct and run a full optimization loop.</p>
</dd></dl>
<div class="section" id="utils">
<h3>Utils<a class="headerlink" href="#utils" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="module-ax.service.utils.best_point">
<span id="best-point-identification"></span><h2>Best Point Identification<a class="headerlink" href="#module-ax.service.utils.best_point" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ax.service.utils.best_point.get_best_from_model_predictions">
<code class="sig-prename descclassname">ax.service.utils.best_point.</code><code class="sig-name descname">get_best_from_model_predictions</code><span class="sig-paren">(</span><em class="sig-param">experiment: ax.core.experiment.Experiment</em><span class="sig-paren">)</span> → Optional[Tuple[Dict[str, Union[str, bool, float, int, None]], Optional[Tuple[Dict[str, float], Optional[Dict[str, Dict[str, float]]]]]]]<a class="reference internal" href="_modules/ax/service/utils/best_point.html#get_best_from_model_predictions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.best_point.get_best_from_model_predictions" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an experiment, returns the best predicted parameterization and corresponding
prediction based on the most recent Trial with predictions. If no trials have
predictions returns None.</p>
<p>Only some models return predictions. For instance GPEI does while Sobol does not.</p>
<dl class="simple">
<dt>TModelPredictArm is of the form:</dt><dd><p>({metric_name: mean}, {metric_name_1: {metric_name_2: cov_1_2}})</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>experiment</strong> – Experiment, on which to identify best raw objective arm.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple of parameterization and model predictions for it.</p>
</dd>
</dl>
</dd></dl>
<dl class="function">
<dt id="ax.service.utils.best_point.get_best_parameters">
<code class="sig-prename descclassname">ax.service.utils.best_point.</code><code class="sig-name descname">get_best_parameters</code><span class="sig-paren">(</span><em class="sig-param">experiment: ax.core.experiment.Experiment</em><span class="sig-paren">)</span> → Optional[Tuple[Dict[str, Union[str, bool, float, int, None]], Optional[Tuple[Dict[str, float], Optional[Dict[str, Dict[str, float]]]]]]]<a class="reference internal" href="_modules/ax/service/utils/best_point.html#get_best_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.best_point.get_best_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an experiment, identifies the best arm.</p>
<p>First attempts according to do so with models used in optimization and
its corresponding predictions if available. Falls back to the best raw
objective based on the data fetched from the experiment.</p>
<dl class="simple">
<dt>TModelPredictArm is of the form:</dt><dd><p>({metric_name: mean}, {metric_name_1: {metric_name_2: cov_1_2}})</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>experiment</strong> – Experiment, on which to identify best raw objective arm.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple of parameterization and model predictions for it.</p>
</dd>
</dl>
</dd></dl>
<dl class="function">
<dt id="ax.service.utils.best_point.get_best_raw_objective_point">
<code class="sig-prename descclassname">ax.service.utils.best_point.</code><code class="sig-name descname">get_best_raw_objective_point</code><span class="sig-paren">(</span><em class="sig-param">experiment: ax.core.experiment.Experiment</em>, <em class="sig-param">optimization_config: Optional[ax.core.optimization_config.OptimizationConfig] = None</em><span class="sig-paren">)</span> → Tuple[Dict[str, Union[str, bool, float, int, None]], Dict[str, Tuple[float, float]]]<a class="reference internal" href="_modules/ax/service/utils/best_point.html#get_best_raw_objective_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.best_point.get_best_raw_objective_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an experiment, identifies the arm that had the best raw objective,
based on the data fetched from the experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>experiment</strong> – Experiment, on which to identify best raw objective arm.</p></li>
<li><p><strong>optimization_config</strong> – Optimization config to use in absence or in place of
the one stored on the experiment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Tuple of parameterization and a mapping from metric name to a tuple of</dt><dd><p>the corresponding objective mean and SEM.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>
</div>
<div class="section" id="module-ax.service.utils.instantiation">
<span id="instantiation"></span><h2>Instantiation<a class="headerlink" href="#module-ax.service.utils.instantiation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ax.service.utils.instantiation.constraint_from_str">
<code class="sig-prename descclassname">ax.service.utils.instantiation.</code><code class="sig-name descname">constraint_from_str</code><span class="sig-paren">(</span><em class="sig-param">representation: str, parameters: Dict[str, ax.core.parameter.Parameter]</em><span class="sig-paren">)</span> → ax.core.parameter_constraint.ParameterConstraint<a class="reference internal" href="_modules/ax/service/utils/instantiation.html#constraint_from_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.instantiation.constraint_from_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse string representation of a parameter constraint.</p>
</dd></dl>
<dl class="function">
<dt id="ax.service.utils.instantiation.data_from_evaluations">
<code class="sig-prename descclassname">ax.service.utils.instantiation.</code><code class="sig-name descname">data_from_evaluations</code><span class="sig-paren">(</span><em class="sig-param">evaluations: Dict[str, Union[Dict[str, Tuple[float, Optional[float]]], Tuple[float, Optional[float]], float, List[Tuple[Dict[str, Union[str, bool, float, int, None]], Dict[str, Tuple[float, Optional[float]]]]]]], trial_index: int, sample_sizes: Dict[str, int], start_time: Optional[int] = None, end_time: Optional[int] = None</em><span class="sig-paren">)</span> → ax.core.data.Data<a class="reference internal" href="_modules/ax/service/utils/instantiation.html#data_from_evaluations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.instantiation.data_from_evaluations" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms evaluations into Ax Data.</p>
<p>Each evaluation is either a trial evaluation: {metric_name -&gt; (mean, SEM)}
or a fidelity trial evaluation for multi-fidelity optimizations:
[(fidelities, {metric_name -&gt; (mean, SEM)})].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evalutions</strong> – Mapping from arm name to evaluation.</p></li>
<li><p><strong>trial_index</strong> – Index of the trial, for which the evaluations are.</p></li>
<li><p><strong>sample_sizes</strong> – Number of samples collected for each arm, may be empty
if unavailable.</p></li>
<li><p><strong>start_time</strong> – Optional start time of run of the trial that produced this
data, in milliseconds.</p></li>
<li><p><strong>end_time</strong> – Optional end time of run of the trial that produced this
data, in milliseconds.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="data">
<dt id="ax.service.utils.instantiation.logger">
<code class="sig-prename descclassname">ax.service.utils.instantiation.</code><code class="sig-name descname">logger</code><em class="property"> = &lt;Logger ax.service.utils.instantiation (INFO)&gt;</em><a class="headerlink" href="#ax.service.utils.instantiation.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Utilities for RESTful-like instantiation of Ax classes needed in AxClient.</p>
</dd></dl>
<dl class="function">
<dt id="ax.service.utils.instantiation.make_experiment">
<code class="sig-prename descclassname">ax.service.utils.instantiation.</code><code class="sig-name descname">make_experiment</code><span class="sig-paren">(</span><em class="sig-param">parameters: List[Dict[str, Union[str, bool, float, int, None, List[Union[str, bool, float, int, None]]]]], name: Optional[str] = None, objective_name: Optional[str] = None, minimize: bool = False, parameter_constraints: Optional[List[str]] = None, outcome_constraints: Optional[List[str]] = None, status_quo: Optional[Dict[str, Union[str, bool, float, int, None]]] = None, experiment_type: Optional[str] = None</em><span class="sig-paren">)</span> → ax.core.experiment.Experiment<a class="reference internal" href="_modules/ax/service/utils/instantiation.html#make_experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.instantiation.make_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiation wrapper that allows for creation of SimpleExperiment
without importing or instantiating any Ax classes.</p>
</dd></dl>
<dl class="function">
<dt id="ax.service.utils.instantiation.outcome_constraint_from_str">
<code class="sig-prename descclassname">ax.service.utils.instantiation.</code><code class="sig-name descname">outcome_constraint_from_str</code><span class="sig-paren">(</span><em class="sig-param">representation: str</em><span class="sig-paren">)</span> → ax.core.outcome_constraint.OutcomeConstraint<a class="reference internal" href="_modules/ax/service/utils/instantiation.html#outcome_constraint_from_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.instantiation.outcome_constraint_from_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse string representation of an outcome constraint.</p>
</dd></dl>
<dl class="function">
<dt id="ax.service.utils.instantiation.parameter_from_json">
<code class="sig-prename descclassname">ax.service.utils.instantiation.</code><code class="sig-name descname">parameter_from_json</code><span class="sig-paren">(</span><em class="sig-param">representation: Dict[str, Union[str, bool, float, int, None, List[Union[str, bool, float, int, None]]]]</em><span class="sig-paren">)</span> → ax.core.parameter.Parameter<a class="reference internal" href="_modules/ax/service/utils/instantiation.html#parameter_from_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.instantiation.parameter_from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a parameter from JSON representation.</p>
</dd></dl>
<dl class="function">
<dt id="ax.service.utils.instantiation.raw_data_to_evaluation">
<code class="sig-prename descclassname">ax.service.utils.instantiation.</code><code class="sig-name descname">raw_data_to_evaluation</code><span class="sig-paren">(</span><em class="sig-param">raw_data: Union[Dict[str, Tuple[float, Optional[float]]], Tuple[float, Optional[float]], float, List[Tuple[Dict[str, Union[str, bool, float, int, None]], Dict[str, Tuple[float, Optional[float]]]]]], objective_name: str, start_time: Optional[int] = None, end_time: Optional[int] = None</em><span class="sig-paren">)</span> → Union[Dict[str, Tuple[float, Optional[float]]], Tuple[float, Optional[float]], float, List[Tuple[Dict[str, Union[str, bool, float, int, None]], Dict[str, Tuple[float, Optional[float]]]]]]<a class="reference internal" href="_modules/ax/service/utils/instantiation.html#raw_data_to_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.instantiation.raw_data_to_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the trial evaluation data to a standard <cite>TTrialEvaluation</cite>
(mapping from metric names to a tuple of mean and SEM) representation, or
to a TFidelityTrialEvaluation.</p>
<p>Note: this function expects raw_data to be data for a <cite>Trial</cite>, not a
<cite>BatchedTrial</cite>.</p>
</dd></dl>
</div>
<div class="section" id="module-ax.service.utils.with_db_settings_base">
<span id="withdbsettingsbase"></span><h2>WithDBSettingsBase<a class="headerlink" href="#module-ax.service.utils.with_db_settings_base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ax.service.utils.with_db_settings_base.WithDBSettingsBase">
<em class="property">class </em><code class="sig-prename descclassname">ax.service.utils.with_db_settings_base.</code><code class="sig-name descname">WithDBSettingsBase</code><span class="sig-paren">(</span><em class="sig-param">db_settings: Optional[ax.storage.sqa_store.structs.DBSettings] = None</em>, <em class="sig-param">logging_level: int = 20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ax/service/utils/with_db_settings_base.html#WithDBSettingsBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ax.service.utils.with_db_settings_base.WithDBSettingsBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class providing methods for saving changes made to an experiment
if <cite>db_settings</cite> property is set to a non-None value on the instance.</p>
<dl class="method">
<dt id="ax.service.utils.with_db_settings_base.WithDBSettingsBase.db_settings">
<em class="property">property </em><code class="sig-name descname">db_settings</code><a class="headerlink" href="#ax.service.utils.with_db_settings_base.WithDBSettingsBase.db_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>DB settings set on this instance; guaranteed to be non-None.</p>
</dd></dl>
<dl class="method">
<dt id="ax.service.utils.with_db_settings_base.WithDBSettingsBase.db_settings_set">
<em class="property">property </em><code class="sig-name descname">db_settings_set</code><a class="headerlink" href="#ax.service.utils.with_db_settings_base.WithDBSettingsBase.db_settings_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether non-None DB settings are set on this instance.</p>
</dd></dl>
</dd></dl>
</div>
</div>
</div>
</div>
</div>
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Ax</a></h1>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ax.html">ax</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">ax.benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">ax.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">ax.exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">ax.metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="modelbridge.html">ax.modelbridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">ax.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot.html">ax.plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="runners.html">ax.runners</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ax.service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-ax.service.ax_client">Ax Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ax.service.managed_loop">Managed Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ax.service.utils.best_point">Best Point Identification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ax.service.utils.instantiation">Instantiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-ax.service.utils.with_db_settings_base">WithDBSettingsBase</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">ax.storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">ax.utils</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
<li><a href="index.html">Documentation overview</a><ul>
<li>Previous: <a href="runners.html" title="previous chapter">ax.runners</a></li>
<li>Next: <a href="storage.html" title="next chapter">ax.storage</a></li>
</ul></li>
</ul>
</div>
<div id="searchbox" role="search" style="display: none">
<h3 id="searchlabel">Quick search</h3>
<div class="searchformwrapper">
<form action="search.html" class="search" method="get">
<input aria-labelledby="searchlabel" name="q" type="text"/>
<input type="submit" value="Go"/>
</form>
</div>
</div>
<script>$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><div class="footerSection"><h5>Legal</h5><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noreferrer noopener">Privacy</a><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noreferrer noopener">Terms</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/versions/0.1.18/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Facebook Inc.</section></footer></div></body></html>